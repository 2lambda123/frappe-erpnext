{% extends "templates/web.html" %}
{% from "erpnext/templates/includes/macros.html" import product_image_square %}

{% block content %}
<main>
    <section class="hero-section" style="background-image: url({{ homepage.hero_image }})">
        <div class="container py-5">
            <h1 class="text-uppercase font-weight-bold display-4 text-white d-none d-sm-block">{{ homepage.title }}</h1>
            <h1 class="text-uppercase font-weight-bold text-white d-block d-sm-none">{{ homepage.title }}</h1>
            <h2 class="text-white d-none d-sm-block">{{ homepage.tag_line }}</h2>
            <h3 class="text-white d-block d-sm-none">{{ homepage.tag_line }}</h3>
        </div>

        <div class="container">
            <a href="{{ explore_link }}" class="mb-5 btn btn-primary">{{ _('Explore') }}</a>
        </div>
    </section>

    <section class="container section-products my-5">
        <h3>{{ _('Products') }}</h3>

        <div class="row">
            {% for item in homepage.products %}
            <div class="col-md-4 mt-4 mt-md-0">
                <div class="card h-100">
                    <img class="card-img-top" src="{{ item.image }}" alt="{{ item.item_name }}">
                    <div class="card-body">
                        <h5 class="card-title">{{ item.item_name }}</h5>
                        <!-- <p class="card-text">{{ item.item_group }}</p> -->
                    </div>
                    <div class="card-body">
                        <a href="{{ item.route }}" class="card-link">{{ _('More details') }}</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <section class="container my-5">
        <h3>{{ _('Publications') }}</h3>

        <div class="row">
            {% for blog in blogs %}
            <div class="col-md-4 h-100 mt-4 mt-md-0">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">{{ blog.title }}</h5>
                        <p class="card-subtitle mb-2 text-muted">{{ _('By {0}').format(blog.blogger) }}</p>
                        <p class="card-text">{{ blog.blog_intro }}</p>
                        <a href="{{ blog.route }}" class="card-link">{{ _('Read blog') }}</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    {% for section in custom_sections %}
    <section class="container my-5">
        <h3>{{ section.name }}</h3>

        <div class="row">

            {% for card in section.section_content %}
            <div class="col-md-4 h-100 mt-4 mt-md-0">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">{{ card.title }}</h5>
                        <p class="card-subtitle mb-2 text-muted">{{ card.subtitle or '' }}</p>
                        <p class="card-text">{{ card.content | truncate(140, True) }}</p>
                    </div>
                    <div class="card-body">
                        <a href="{{ card.link }}" class="card-link">{{ _('More details') }}</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    {% endfor %}

    <section class="bg-light border-top py-5">
        <div class="container text-center">
            <h5>{{ _('Have more questions?') }}</h5>

            <p>{{ _('Email') }}: <a class="text-underline text-dark" href="mailto:{{ email }}">{{ email }}</a></p>
            <p>{{ _('Phone') }}: <a class="text-underline text-dark" href="tel:{{ phone }}">{{ phone }}</a></p>
            <p><a class="btn btn-primary mt-2" href="/contact">{{ _('Send us a message') }}</a></p>
        </div>
    </section>
</main>
{% endblock %}